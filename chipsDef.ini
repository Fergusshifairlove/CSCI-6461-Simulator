{
	# Visiable chips.
	memory						: Memory
	CU							: ControlUnit
	decoder						: InstructionDecoder
	IR							: ClockRegister		, 16
	MAR							: ClockRegister		, 16
	MBR							: ClockRegister		, 16
	PC							: ClockRegister		, 12
	GPRF						: RegisterFile 		, 2		, 16
	IRF							: RegisterFile 		, 2		, 16
	CC							: ClockRegister		, 4
	ALU							: ALU
	IO							: IODevices
	# Invisiable chips. 
	EACalc						: Adder				, 16
	PCInputSel					: Mux				, 2		, 12
	MARInputSel					: Mux				, 3		, 16
	GPRFInputSel				: Mux				, 3		, 16
	IRFInputSel					: Mux				, 1		, 16
	MBRInputSel					: Mux				, 2		, 16
	PCIncreaser					: Increaser			, 12
	const1						: ConstantChip		, 1		, 1
	operand1Mux					: Mux				, 1		, 16
	operand1Negater				: ControlledNegater	, 16
	# All panel related chips has a prefix of 'panel'
	panelPauseCU				: Switch
	panelResetCU				: Switch
	panelLoadSwitch				: Switch
	panelSwitchSet				: SwitchesSet		, 16
	panelValue					: BulbSet			, 16
	panelAddress				: BulbSet			, 12
	panelDestSelectSwitch		: NumberedSwitch	, 3
		# 0 - PC
		# 1 - MAR
		# 2 - Memory
		# 4 - IRF 
		# 5 - GPRF 
		# other - TBD
	panelRegSelSwitch			: NumberedSwitch	, 2
	panelValueSelector			: Mux				, 3		, 16
	panelLoadSelector			: Demux				, 3		, 1
	panelIRFGate				: ZeroGate 			, 16
	panelGPRFGate				: ZeroGate 			, 16
	# Other invisible chips
	LoadChecker					: AndGate			, 1
	IRFAddrSel					: Mux				, 1		, 2
	GPRFAddrSel					: Mux				, 1		, 2
	MARLoadSel					: OrGate			, 1		, 2
	PCLoadSel					: OrGate			, 1
	GPRFLoadSel					: OrGate			, 1
	IRFLoadSel					: OrGate			, 1
	memoryLoadSel				: OrGate			, 1
	MARTakeEAMux				: OrGate			, 1
	MARTakeMBRMux				: OrGate			, 1
	memoryInputSel				: Mux				, 1		, 16
	MARIncreaser				: Increaser			, 16
}
{
	CU.pause - panelPauseCU.output - panelIRFGate.transfer - panelGPRFGate.transfer - IRFAddrSel.sel - GPRFAddrSel.sel - LoadChecker.input1 : paused
	CU.reset - panelResetCU.output

	CU.MAR_load - MARLoadSel.input0
	CU.PC_load - PCLoadSel.input0
	CU.GPRF_load - GPRFLoadSel.input0
	CU.IRF_load - IRFLoadSel.input0
	CU.MBR_load - MBR.load
	CU.IR_load - IR.load
	CU.CC_load - CC.load
	CU.ALU_op1_negate - operand1Negater.negate
	MARInputSel.sel - MARTakeEAMux.output[0] - MARTakeMBRMux.output[0, 1] - MARLoadSel.input1[0, 2] - panelLoadSelector.output1[0, 2]
	GPRFInputSel.sel - CU.GPRF_take_EA[0] - CU.GPRF_take_ALU[0, 1] - panelLoadSelector.output5[0, 2] - GPRFLoadSel.input1[0, 2]
	MBRInputSel.sel - CU.MBR_take_GPRF[0] - CU.MBR_take_IRF[0, 1]
	CU.memory_load - memoryLoadSel.input0 
	PCInputSel.sel - PCLoadSel.input1[0, 1] - panelLoadSelector.output0[0, 1]

	CU.MAR_take_EA - MARTakeEAMux.input0
	CU.MAR_take_MBR - MARTakeMBRMux.input0
	
	ALU.CCStat - CC.input
	ALU.operand1 - operand1Mux.output
	operand1Mux.input0 - operand1Negater.output
	ALU.result - GPRFInputSel.input2

	memoryLoadSel.output - memory.load
	MARLoadSel.output - MAR.load
	PCLoadSel.output - PC.load
	GPRFLoadSel.output - GPRF.load
	IRFLoadSel.output - IRF.load
	
	panelLoadSelector.output4 - IRFLoadSel.input1 - IRFInputSel.sel
	panelLoadSelector.output2 - memoryInputSel.sel - memoryLoadSel.input1 - MARTakeEAMux.input1 - MARTakeMBRMux.input1 - MARLoadSel.input2

	panelLoadSwitch.output - LoadChecker.input0
	LoadChecker.output - panelLoadSelector.input

	MAR.input - MARInputSel.output

	panelValueSelector.sel - panelDestSelectSwitch.output - panelLoadSelector.sel
	panelValueSelector.output - panelValue.input

	panelValueSelector.input4 - panelIRFGate.output

	PC.output - MARInputSel.input0 - PCIncreaser.input - panelValueSelector.input0
	PCIncreaser.output - PCInputSel.input0
	PCInputSel.output - PC.input

	MAR.output - memory.address - panelAddress.input - MARIncreaser.input
	memory.output - MBRInputSel.input0 - panelValueSelector.input2

	MBRInputSel.output - MBR.input
	MBRInputSel.input1 - GPRF.output - panelGPRFGate.input - ALU.operand2
	panelValueSelector.input5 - panelGPRFGate.output
	
	IRFInputSel.output - IRF.input
	
	MBR.output - IR.input - MARInputSel.input2 - GPRFInputSel.input0 - IRFInputSel.input0 - memoryInputSel.input0 - operand1Negater.input
	IR.output - decoder.input

	memoryInputSel.output - memory.input

	panelSwitchSet.output 
		- MARInputSel.input4
		- MARInputSel.input5
		- MARInputSel.input6
		- MARInputSel.input7
		- PCInputSel.input2
		- PCInputSel.input3
		- GPRFInputSel.input4
		- GPRFInputSel.input5
		- GPRFInputSel.input6
		- GPRFInputSel.input7
		- IRFInputSel.input1
		- memoryInputSel.input1
	
	MARIncreaser.output - MARInputSel.input3

	GPRFInputSel.output - GPRF.input

	CU.opcode - 
		decoder.opcode[0:5] - 
		ALU.opcode[0:5] - 
		decoder.I[0, 6]

	GPRF.address - GPRFAddrSel.output
	decoder.R - GPRFAddrSel.input0

	IRF.address - IRFAddrSel.output
	decoder.IX - IRFAddrSel.input0
	panelRegSelSwitch.output - IRFAddrSel.input1 - GPRFAddrSel.input1
	IRF.output - EACalc.operand2 - MBRInputSel.input2 - panelIRFGate.input

	decoder.address - EACalc.operand1
	EACalc.result - MARInputSel.input1 - GPRFInputSel.input1
}