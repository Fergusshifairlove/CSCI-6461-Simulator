{
	# Visiable chips.
	memory						: Memory
	CU							: ControlUnit
	decoder						: InstructionDecoder
	IR							: ClockRegister		, 16
	MAR							: ClockRegister		, 16
	MBR							: ClockRegister		, 16
	PC							: ClockRegister		, 12
	GPRF						: RegisterFile 		, 2		, 16
	IRF							: RegisterFile 		, 2		, 16
	# Invisiable chips. 
	EACalc						: Adder				, 16
	PCInputSel					: Mux				, 2		, 12
	MARInputSel					: Mux				, 3		, 16
	GPRFInputSel				: Mux				, 1		, 16
	MBRInputSel					: Mux				, 2		, 16
	PCIncreaser					: Adder				, 12
	const1						: ConstantChip		, 1		, 1
	# All panel related chips has a prefix of 'panel'
	panelPauseCU				: Switch
	panelResetCU				: Switch
	panelLoadSwitch				: Switch
	panelSwitchSet				: SwitchesSet		, 16
	panelValue					: BulbSet			, 16
	panelAddress				: BulbSet			, 12
	panelDestSelectSwitch		: NumberedSwitch	, 3
		# 0 - PC
		# 1 - MAR
		# 2 - Memory
		# 4 - IRF 
		# 5 - GPRF 
		# other - TBD
	panelRegSelSwitch			: NumberedSwitch	, 2
	panelValueSelector			: Mux				, 3		, 16
	panelLoadSelector			: Demux				, 3		, 1
	panelIRFGate				: ZeroGate 			, 16
	panelGPRFGate				: ZeroGate 			, 16
	# Other invisible chips
	LoadChecker					: AndGate			, 1
	IRFAddrSel					: Mux				, 1		, 2
	GPRFAddrSel					: Mux				, 1		, 2
	MARLoadSel					: OrGate			, 1
	PCLoadSel					: OrGate			, 1
}
{
	CU.pause - panelPauseCU.output - panelIRFGate.transfer - panelGPRFGate.transfer - IRFAddrSel.sel - GPRFAddrSel.sel - LoadChecker.input1 : paused
	CU.reset - panelResetCU.output

	CU.MAR_load - MARLoadSel.input0
	CU.MBR_load - MBR.load
	CU.IR_load - IR.load
	MARInputSel.sel - CU.MAR_take_EA[0] - CU.MAR_take_MBR[0, 1] - MARLoadSel.input1[0, 2] - panelLoadSelector.output1[0, 2]
	CU.GPRF_load - GPRF.load
	CU.IRF_load - IRF.load
	CU.PC_load - PCLoadSel.input0 
	GPRFInputSel.sel - CU.GPRF_take_EA
	MBRInputSel.sel - CU.MBR_take_GPRF[0] - CU.MBR_take_IRF[0, 1]
	CU.memory_load - memory.load
	PCInputSel.sel - PCLoadSel.input1[0, 1] - panelLoadSelector.output0[0, 1]


	MARLoadSel.output - MAR.load
	PCLoadSel.output - PC.load

	

	panelLoadSwitch.output - LoadChecker.input0
	LoadChecker.output - panelLoadSelector.input

	MAR.input - MARInputSel.output

	panelValueSelector.sel - panelDestSelectSwitch.output - panelLoadSelector.sel
	panelValueSelector.output - panelValue.input

	panelValueSelector.input4 - panelIRFGate.output

	PC.output - MARInputSel.input0 - PCIncreaser.operand1 - panelValueSelector.input0
	PCIncreaser.operand2 - const1.output
	PCIncreaser.result - PCInputSel.input0
	PCInputSel.output - PC.input

	MAR.output - memory.address - panelAddress.input
	memory.output - MBRInputSel.input0 - panelValueSelector.input2

	MBRInputSel.output - MBR.input
	MBRInputSel.input1 - GPRF.output - panelGPRFGate.input
	panelValueSelector.input5 - panelGPRFGate.output
	
	MBR.output - IR.input - MARInputSel.input2 - GPRFInputSel.input0 - IRF.input - memory.input
	IR.output - decoder.input

	panelSwitchSet.output 
		- MARInputSel.input4
		- MARInputSel.input5
		- MARInputSel.input6
		- MARInputSel.input7
		- PCInputSel.input2
		- PCInputSel.input3

	GPRFInputSel.output - GPRF.input

	CU.opcode - 
		decoder.opcode[0:5] - 
		decoder.I[0, 6]

	GPRF.address - GPRFAddrSel.output
	decoder.R - GPRFAddrSel.input0

	IRF.address - IRFAddrSel.output
	decoder.IX - IRFAddrSel.input0
	panelRegSelSwitch.output - IRFAddrSel.input1 - GPRFAddrSel.input1
	IRF.output - EACalc.operand2 - MBRInputSel.input2 - panelIRFGate.input

	decoder.address - EACalc.operand1
	EACalc.result - MARInputSel.input1 - GPRFInputSel.input1
}